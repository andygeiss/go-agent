# ======================================
# Docker Compose Configuration
# ======================================
# Defines one service: agent (main application)
#
# Usage:
#   just up       # Build image and start services
#   just down     # Stop and remove all services
#   docker-compose logs -f app  # View app logs

services:
  # ======================================
  # Agent - Go DDD/Hexagonal Application
  # ======================================
  # Main application container built from Dockerfile
  # Provides CLI tools
  # Depends on Kafka for events
  app:
    image: "${USER}/${APP_SHORTNAME}:latest"
    container_name: "${APP_SHORTNAME}"
    env_file:
      # Load all environment variables from .env into the container
      - .env
    restart: unless-stopped
