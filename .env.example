# ======================================
# Environment Configuration
# ======================================
# Template for local development configuration.
#
# Conventions in this repository:
# - Copy this file to `.env` for your local setup.
# - `.env` is ignored by git (local-only).
# - If you need per-machine overrides, use `.env.local` (also local-only).

# ======================================
# Application Identity
# ======================================
# Human-readable application description
APP_DESCRIPTION="Go template showcasing Domain-Driven Design and Hexagonal Architecture"

# Display name used in UI and logs
APP_NAME="Agent"

# Short name used for Docker image tags, container names, etc.
# Format: lowercase alphanumeric only (no spaces, special chars)
APP_SHORTNAME="agent"

# Application version used for cache busting in PWA service worker
# Format: semver (e.g., 1.0.0, 2.1.3)
APP_VERSION="1.0.0"

# ======================================
# Kafka - Event Streaming
# ======================================
# Comma-separated list of Kafka broker addresses
# Format: host1:port,host2:port
#
# Default is the Docker Compose service name, because the app typically runs in a
# container when using `just up`.
# If you run the server locally (`just serve`), use `localhost:9092` instead.
KAFKA_BROKERS="localhost:9092"

# Consumer group ID for event subscribers
# Kafka uses this to manage partition offsets
KAFKA_CONSUMER_GROUP_ID="test-group"

# ======================================
# LM Studio - Local LLM Integration
# ======================================
# Configuration for the agent's LLM client (LM Studio with OpenAI-compatible API)

# Base URL for the LM Studio API server
# LM Studio runs a local OpenAI-compatible server
# Default port is 1234 when running LM Studio locally
LM_STUDIO_URL="http://localhost:1234"

# Model name to use for chat completions
# This should match a model loaded in LM Studio
# Use "default" to use whatever model is currently loaded
LM_STUDIO_MODEL="qwen/qwen3-coder-30b"

# ======================================
# Resilience & Stability (cloud-native-utils)
# ======================================
# Thresholds and parameters for fault tolerance and graceful degradation

# Circuit breaker: number of failures before opening circuit
# Open circuit = fast-fail without attempting request
SERVICE_BREAKER_THRESHOLD="5"

# Rate limiting: maximum events per second to process
# Excess events are debounced (dropped or batched)
SERVICE_DEBOUNCE_PER_SEC="10"

# Retry mechanism: delay between retry attempts
# Used for transient failures (network timeouts, 5xx errors)
SERVICE_RETRY_DELAY="5s"

# Retry mechanism: maximum number of attempts
# Total time: SERVICE_RETRY_MAX * SERVICE_RETRY_DELAY (up to 15 seconds here)
SERVICE_RETRY_MAX="3"

# Service call timeout: max time for external calls
# Prevents indefinite hangs on slow dependencies
SERVICE_TIMEOUT="5s"
